(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{2845:(e,r,s)=>{Promise.resolve().then(s.bind(s,7415))},7415:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var o=s(3562),a=s(591),t=s(5920),l=s(8568),n=s(3337),c=s(9410);let i=()=>{let[e,r]=(0,a.useState)(null),s=(0,t.useRouter)();return(0,a.useEffect)(()=>{let e=async e=>{try{console.log("Recherche des informations de l'utilisateur dans Firestore avec UID :",e);let s=(0,n.IO)((0,n.hJ)(c.db,"users"),(0,n.ar)("uid","==",e)),o=await (0,n.PL)(s);if(o.empty)console.error("Utilisateur non trouv\xe9 dans Firestore avec cet UID :",e);else{let e=o.docs[0].data();console.log("Donn\xe9es utilisateur r\xe9cup\xe9r\xe9es :",e),r(e.role)}}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration du r\xf4le utilisateur :",e)}},o=(0,l.Aj)(c.I,r=>{r?(console.log("Utilisateur connect\xe9 avec UID :",r.uid),e(r.uid)):s.push("/")});return()=>o()},[s]),(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Profil"}),(0,o.jsxs)("ul",{className:"w-full max-w-md bg-white shadow-md rounded-lg p-6 space-y-4",children:[(0,o.jsx)("li",{className:"cursor-pointer text-gray-800 hover:bg-gray-100 p-3 rounded-md",onClick:()=>s.push("/home/personal-info"),children:"Mes infos perso"}),"Manager"===e||"Admin"===e?(0,o.jsx)("li",{className:"cursor-pointer text-gray-800 hover:bg-gray-100 p-3 rounded-md",onClick:()=>s.push("/home/profile/user-management"),children:"Gestion des utilisateurs"}):(0,o.jsx)("li",{className:"text-gray-400 p-3 rounded-md",children:"Acc\xe8s restreint"}),(0,o.jsx)("li",{className:"cursor-pointer text-gray-800 hover:bg-gray-100 p-3 rounded-md",onClick:()=>s.push("/home/cgv"),children:"CGV"}),(0,o.jsx)("li",{className:"cursor-pointer text-gray-800 hover:bg-gray-100 p-3 rounded-md",onClick:()=>s.push("/home/app-info"),children:"Information concernant l'application"}),(0,o.jsx)("li",{className:"cursor-pointer text-red-600 hover:bg-red-100 p-3 rounded-md font-semibold",onClick:()=>c.I.signOut(),children:"Se d\xe9connecter"})]})]})}},9410:(e,r,s)=>{"use strict";s.d(r,{I:()=>n,db:()=>c});var o=s(6183),a=s(8568),t=s(3337);let l=(0,o.ZF)({apiKey:"AIzaSyAydn9SYPD76o1rODcyY18EC7Mgo2OojOA",authDomain:"moodly-app-163f1.firebaseapp.com",projectId:"moodly-app-163f1",storageBucket:"moodly-app-163f1.appspot.com",messagingSenderId:"347904279105",appId:"1:347904279105:web:b4182f1bfa17f62c29fcc0"}),n=(0,a.v0)(l),c=(0,t.ad)(l)}},e=>{var r=r=>e(e.s=r);e.O(0,[718,873,640,18,659,744],()=>r(2845)),_N_E=e.O()}]);